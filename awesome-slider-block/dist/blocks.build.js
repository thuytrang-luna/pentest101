/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!***********************!*\
  !*** ./src/blocks.js ***!
  \***********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__block_image_slider__ = __webpack_require__(/*! ./block/image-slider */ 1);\n/**\n * Gutenberg Blocks\n *\n * All blocks related JavaScript files should be imported here.\n * You can create a new block folder in this dir and include code\n * for that block here as well.\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n//import './block/pricing-table';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9ja3MuanM/N2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEd1dGVuYmVyZyBCbG9ja3NcbiAqXG4gKiBBbGwgYmxvY2tzIHJlbGF0ZWQgSmF2YVNjcmlwdCBmaWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgaGVyZS5cbiAqIFlvdSBjYW4gY3JlYXRlIGEgbmV3IGJsb2NrIGZvbGRlciBpbiB0aGlzIGRpciBhbmQgaW5jbHVkZSBjb2RlXG4gKiBmb3IgdGhhdCBibG9jayBoZXJlIGFzIHdlbGwuXG4gKlxuICogQWxsIGJsb2NrcyBzaG91bGQgYmUgaW5jbHVkZWQgaGVyZSBzaW5jZSB0aGlzIGlzIHRoZSBmaWxlIHRoYXRcbiAqIFdlYnBhY2sgaXMgY29tcGlsaW5nIGFzIHRoZSBpbnB1dCBmaWxlLlxuICovXG5cbi8vaW1wb3J0ICcuL2Jsb2NrL3ByaWNpbmctdGFibGUnO1xuaW1wb3J0ICcuL2Jsb2NrL2ltYWdlLXNsaWRlcic7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!*****************************************!*\
  !*** ./src/block/image-slider/index.js ***!
  \*****************************************/
/*! exports provided: name, settings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* unused harmony export name */\n/* unused harmony export settings */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__edit__ = __webpack_require__(/*! ./edit */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n/**\n * External dependencies\n */\nvar _lodash = lodash,\n    filter = _lodash.filter,\n    every = _lodash.every,\n    map = _lodash.map,\n    some = _lodash.some;\n\n/**\n * WordPress dependencies\n */\n\nvar _wp$i18n = wp.i18n,\n    __ = _wp$i18n.__,\n    setLocaleData = _wp$i18n.setLocaleData;\nvar _wp$blocks = wp.blocks,\n    createBlock = _wp$blocks.createBlock,\n    registerBlockType = _wp$blocks.registerBlockType;\nvar _wp$editor = wp.editor,\n    RichText = _wp$editor.RichText,\n    mediaUpload = _wp$editor.mediaUpload;\nvar createBlobURL = wp.blob.createBlobURL;\nvar _wp$components = wp.components,\n    G = _wp$components.G,\n    Path = _wp$components.Path,\n    SVG = _wp$components.SVG;\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n//setLocaleData( window.gutenberg_slider.localeData, 'oacs-image-slider-blocks' );\n\nvar blockAttributes = {\n    images: {\n        type: 'array',\n        default: [],\n        source: 'query',\n        selector: 'ul.wp-block-image-slider-image-slider .blocks-gallery-item',\n        query: {\n            url: {\n                source: 'attribute',\n                selector: 'img',\n                attribute: 'src'\n            },\n            link: {\n                source: 'attribute',\n                selector: 'img',\n                attribute: 'data-link'\n            },\n            alt: {\n                source: 'attribute',\n                selector: 'img',\n                attribute: 'alt',\n                default: ''\n            },\n            id: {\n                source: 'attribute',\n                selector: 'img',\n                attribute: 'data-id'\n            },\n            caption: {\n                type: 'string',\n                source: 'html',\n                selector: 'figcaption'\n            }\n        }\n    },\n    ids: {\n        type: 'array',\n        default: []\n    },\n\n    imageCrop: {\n        type: 'boolean',\n        default: true\n    },\n    autoplay: {\n        type: 'boolean',\n        default: true\n    },\n    arrows: {\n        type: 'boolean',\n        default: false\n    },\n    dots: {\n        type: 'boolean',\n        default: false\n    },\n    speed: {\n        type: 'string',\n        default: '300'\n    },\n    effect: {\n        type: 'string',\n        default: 'fade'\n    },\n    linkTo: {\n        type: 'string',\n        default: 'none'\n    }\n};\n\nvar name = 'image-slider/image-slider';\n\nvar parseShortcodeIds = function parseShortcodeIds(ids) {\n    if (!ids) {\n        return [];\n    }\n\n    return ids.split(',').map(function (id) {\n        return parseInt(id, 10);\n    });\n};\n\nvar settings = {\n    title: __('Slider', 'oacs-image-slider-blocks'),\n    description: __('Display multiple images in an elegant slider.', 'oacs-image-slider-blocks'),\n    icon: wp.element.createElement(\n        SVG,\n        { viewBox: '0 0 24 24', xmlns: 'http://www.w3.org/2000/svg' },\n        wp.element.createElement('path', { d: 'M16.5 20h-14c-0.827 0-1.5-0.673-1.5-1.5v-13c0-0.827 0.673-1.5 1.5-1.5h14c0.827 0 1.5 0.673 1.5 1.5v13c0 0.827-0.673 1.5-1.5 1.5zM2.5 5c-0.276 0-0.5 0.224-0.5 0.5v13c0 0.276 0.224 0.5 0.5 0.5h14c0.276 0 0.5-0.224 0.5-0.5v-13c0-0.276-0.224-0.5-0.5-0.5h-14z', fill: '#000000' }),\n        wp.element.createElement('path', { d: 'M16.5 3h-14c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5h14c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5z', fill: '#000000' }),\n        wp.element.createElement('path', { d: 'M15.5 1h-12c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5h12c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5z', fill: '#000000' }),\n        wp.element.createElement('path', { d: 'M11.5 13c-0.827 0-1.5-0.673-1.5-1.5s0.673-1.5 1.5-1.5 1.5 0.673 1.5 1.5-0.673 1.5-1.5 1.5zM11.5 11c-0.276 0-0.5 0.224-0.5 0.5s0.224 0.5 0.5 0.5 0.5-0.224 0.5-0.5-0.224-0.5-0.5-0.5z', fill: '#000000' }),\n        wp.element.createElement('path', { d: 'M14.5 8h-10c-0.276 0-0.5 0.224-0.5 0.5v7c0 0.276 0.224 0.5 0.5 0.5h10c0.276 0 0.5-0.224 0.5-0.5v-7c0-0.276-0.224-0.5-0.5-0.5zM5 13.675l1.266-1.582c0.073-0.091 0.164-0.142 0.259-0.144s0.189 0.044 0.266 0.131l2.596 2.92h-4.387v-1.325zM14 15h-3.275l-3.187-3.585c-0.272-0.306-0.651-0.476-1.039-0.466s-0.758 0.199-1.014 0.519l-0.485 0.606v-3.075h9v6z', fill: '#000000' })\n    ),\n    category: 'common',\n    keywords: [__('images'), __('photos'), __('slider')],\n    attributes: blockAttributes,\n\n    transforms: {\n        from: [{\n            type: 'block',\n            isMultiBlock: true,\n            blocks: ['core/image'],\n            transform: function transform(attributes) {\n                var validImages = filter(attributes, function (_ref) {\n                    var id = _ref.id,\n                        url = _ref.url;\n                    return id && url;\n                });\n                if (validImages.length > 0) {\n                    return createBlock('oacs/slider', {\n                        images: validImages.map(function (_ref2) {\n                            var id = _ref2.id,\n                                url = _ref2.url,\n                                alt = _ref2.alt,\n                                caption = _ref2.caption;\n                            return { id: id, url: url, alt: alt, caption: caption };\n                        }),\n                        ids: validImages.map(function (_ref3) {\n                            var id = _ref3.id;\n                            return id;\n                        })\n                    });\n                }\n                return createBlock('oacs/slider');\n            }\n        }, {\n            type: 'shortcode',\n            tag: 'gallery',\n            attributes: {\n                images: {\n                    type: 'array',\n                    shortcode: function shortcode(_ref4) {\n                        var ids = _ref4.named.ids;\n\n                        return parseShortcodeIds(ids).map(function (id) {\n                            return {\n                                id: id\n                            };\n                        });\n                    }\n                },\n                ids: {\n                    type: 'array',\n                    shortcode: function shortcode(_ref5) {\n                        var ids = _ref5.named.ids;\n\n                        return parseShortcodeIds(ids);\n                    }\n                },\n                linkTo: {\n                    type: 'string',\n                    shortcode: function shortcode(_ref6) {\n                        var _ref6$named$link = _ref6.named.link,\n                            link = _ref6$named$link === undefined ? 'attachment' : _ref6$named$link;\n\n                        return link === 'file' ? 'media' : link;\n                    }\n                }\n            }\n        }, {\n            // When created by drag and dropping multiple files on an insertion point\n            type: 'files',\n            isMatch: function isMatch(files) {\n                return files.length !== 1 && every(files, function (file) {\n                    return file.type.indexOf('image/') === 0;\n                });\n            },\n            transform: function transform(files, onChange) {\n                var block = createBlock('oacs/slider', {\n                    images: files.map(function (file) {\n                        return Object(__WEBPACK_IMPORTED_MODULE_0__edit__[\"b\" /* pickRelevantMediaFiles */])({\n                            url: createBlobURL(file)\n                        });\n                    })\n                });\n                mediaUpload({\n                    filesList: files,\n                    onFileChange: function onFileChange(images) {\n                        var imagesAttr = images.map(__WEBPACK_IMPORTED_MODULE_0__edit__[\"b\" /* pickRelevantMediaFiles */]);\n                        onChange(block.clientId, {\n                            ids: map(imagesAttr, 'id'),\n                            images: imagesAttr\n                        });\n                    },\n                    allowedTypes: ['image']\n                });\n                return block;\n            }\n        }],\n        to: [{\n            type: 'block',\n            blocks: ['core/image'],\n            transform: function transform(_ref7) {\n                var images = _ref7.images;\n\n                if (images.length > 0) {\n                    return images.map(function (_ref8) {\n                        var id = _ref8.id,\n                            url = _ref8.url,\n                            alt = _ref8.alt,\n                            caption = _ref8.caption;\n                        return createBlock('core/image', { id: id, url: url, alt: alt, caption: caption });\n                    });\n                }\n                return createBlock('core/image');\n            }\n        }]\n    },\n\n    edit: __WEBPACK_IMPORTED_MODULE_0__edit__[\"a\" /* default */],\n\n    save: function save(_ref9) {\n        var attributes = _ref9.attributes;\n        var images = attributes.images,\n            imageCrop = attributes.imageCrop,\n            autoplay = attributes.autoplay,\n            arrows = attributes.arrows,\n            dots = attributes.dots,\n            speed = attributes.speed,\n            effect = attributes.effect,\n            linkTo = attributes.linkTo;\n\n        return wp.element.createElement(\n            'ul',\n            { className: '' + (imageCrop ? 'is-cropped' : ''), 'data-autoplay': autoplay, 'data-speed': speed, 'data-effect': effect, 'data-arrows': arrows, 'data-dots': dots },\n            images.map(function (image) {\n                var href = void 0;\n\n                switch (linkTo) {\n                    case 'media':\n                        href = image.url;\n                        break;\n                    case 'attachment':\n                        href = image.link;\n                        break;\n                }\n\n                var img = wp.element.createElement('img', { src: image.url, alt: image.alt, 'data-id': image.id, 'data-link': image.link, className: image.id ? 'wp-image-' + image.id : null });\n\n                return wp.element.createElement(\n                    'li',\n                    { key: image.id || image.url, className: 'blocks-gallery-item' },\n                    wp.element.createElement(\n                        'figure',\n                        null,\n                        href ? wp.element.createElement(\n                            'a',\n                            { href: href },\n                            img\n                        ) : img,\n                        image.caption && image.caption.length > 0 && wp.element.createElement(RichText.Content, { tagName: 'figcaption', value: image.caption })\n                    )\n                );\n            })\n        );\n    }\n};\n\nregisterBlockType(name, settings);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9pbWFnZS1zbGlkZXIvaW5kZXguanM/MGQ0MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG52YXIgX2xvZGFzaCA9IGxvZGFzaCxcbiAgICBmaWx0ZXIgPSBfbG9kYXNoLmZpbHRlcixcbiAgICBldmVyeSA9IF9sb2Rhc2guZXZlcnksXG4gICAgbWFwID0gX2xvZGFzaC5tYXAsXG4gICAgc29tZSA9IF9sb2Rhc2guc29tZTtcblxuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIF93cCRpMThuID0gd3AuaTE4bixcbiAgICBfXyA9IF93cCRpMThuLl9fLFxuICAgIHNldExvY2FsZURhdGEgPSBfd3AkaTE4bi5zZXRMb2NhbGVEYXRhO1xudmFyIF93cCRibG9ja3MgPSB3cC5ibG9ja3MsXG4gICAgY3JlYXRlQmxvY2sgPSBfd3AkYmxvY2tzLmNyZWF0ZUJsb2NrLFxuICAgIHJlZ2lzdGVyQmxvY2tUeXBlID0gX3dwJGJsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZTtcbnZhciBfd3AkZWRpdG9yID0gd3AuZWRpdG9yLFxuICAgIFJpY2hUZXh0ID0gX3dwJGVkaXRvci5SaWNoVGV4dCxcbiAgICBtZWRpYVVwbG9hZCA9IF93cCRlZGl0b3IubWVkaWFVcGxvYWQ7XG52YXIgY3JlYXRlQmxvYlVSTCA9IHdwLmJsb2IuY3JlYXRlQmxvYlVSTDtcbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgRyA9IF93cCRjb21wb25lbnRzLkcsXG4gICAgUGF0aCA9IF93cCRjb21wb25lbnRzLlBhdGgsXG4gICAgU1ZHID0gX3dwJGNvbXBvbmVudHMuU1ZHO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCB7IGRlZmF1bHQgYXMgZWRpdCwgcGlja1JlbGV2YW50TWVkaWFGaWxlcyB9IGZyb20gJy4vZWRpdCc7XG5cbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuLy9zZXRMb2NhbGVEYXRhKCB3aW5kb3cuZ3V0ZW5iZXJnX3NsaWRlci5sb2NhbGVEYXRhLCAnb2Fjcy1pbWFnZS1zbGlkZXItYmxvY2tzJyApO1xuXG52YXIgYmxvY2tBdHRyaWJ1dGVzID0ge1xuICAgIGltYWdlczoge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICBkZWZhdWx0OiBbXSxcbiAgICAgICAgc291cmNlOiAncXVlcnknLFxuICAgICAgICBzZWxlY3RvcjogJ3VsLndwLWJsb2NrLWltYWdlLXNsaWRlci1pbWFnZS1zbGlkZXIgLmJsb2Nrcy1nYWxsZXJ5LWl0ZW0nLFxuICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgdXJsOiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiAnYXR0cmlidXRlJyxcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2ltZycsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnc3JjJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6ICdhdHRyaWJ1dGUnLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnaW1nJyxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICdkYXRhLWxpbmsnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWx0OiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiAnYXR0cmlidXRlJyxcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2ltZycsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnYWx0JyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiAnYXR0cmlidXRlJyxcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2ltZycsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnZGF0YS1pZCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgc291cmNlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdmaWdjYXB0aW9uJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpZHM6IHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgZGVmYXVsdDogW11cbiAgICB9LFxuXG4gICAgaW1hZ2VDcm9wOiB7XG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgYXV0b3BsYXk6IHtcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBhcnJvd3M6IHtcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgZG90czoge1xuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBzcGVlZDoge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZGVmYXVsdDogJzMwMCdcbiAgICB9LFxuICAgIGVmZmVjdDoge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZGVmYXVsdDogJ2ZhZGUnXG4gICAgfSxcbiAgICBsaW5rVG86IHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGRlZmF1bHQ6ICdub25lJ1xuICAgIH1cbn07XG5cbmV4cG9ydCB2YXIgbmFtZSA9ICdpbWFnZS1zbGlkZXIvaW1hZ2Utc2xpZGVyJztcblxudmFyIHBhcnNlU2hvcnRjb2RlSWRzID0gZnVuY3Rpb24gcGFyc2VTaG9ydGNvZGVJZHMoaWRzKSB7XG4gICAgaWYgKCFpZHMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiBpZHMuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChpZCwgMTApO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IHZhciBzZXR0aW5ncyA9IHtcbiAgICB0aXRsZTogX18oJ1NsaWRlcicsICdvYWNzLWltYWdlLXNsaWRlci1ibG9ja3MnKSxcbiAgICBkZXNjcmlwdGlvbjogX18oJ0Rpc3BsYXkgbXVsdGlwbGUgaW1hZ2VzIGluIGFuIGVsZWdhbnQgc2xpZGVyLicsICdvYWNzLWltYWdlLXNsaWRlci1ibG9ja3MnKSxcbiAgICBpY29uOiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFNWRyxcbiAgICAgICAgeyB2aWV3Qm94OiAnMCAwIDI0IDI0JywgeG1sbnM6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgfSxcbiAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTE2LjUgMjBoLTE0Yy0wLjgyNyAwLTEuNS0wLjY3My0xLjUtMS41di0xM2MwLTAuODI3IDAuNjczLTEuNSAxLjUtMS41aDE0YzAuODI3IDAgMS41IDAuNjczIDEuNSAxLjV2MTNjMCAwLjgyNy0wLjY3MyAxLjUtMS41IDEuNXpNMi41IDVjLTAuMjc2IDAtMC41IDAuMjI0LTAuNSAwLjV2MTNjMCAwLjI3NiAwLjIyNCAwLjUgMC41IDAuNWgxNGMwLjI3NiAwIDAuNS0wLjIyNCAwLjUtMC41di0xM2MwLTAuMjc2LTAuMjI0LTAuNS0wLjUtMC41aC0xNHonLCBmaWxsOiAnIzAwMDAwMCcgfSksXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xNi41IDNoLTE0Yy0wLjI3NiAwLTAuNS0wLjIyNC0wLjUtMC41czAuMjI0LTAuNSAwLjUtMC41aDE0YzAuMjc2IDAgMC41IDAuMjI0IDAuNSAwLjVzLTAuMjI0IDAuNS0wLjUgMC41eicsIGZpbGw6ICcjMDAwMDAwJyB9KSxcbiAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdwYXRoJywgeyBkOiAnTTE1LjUgMWgtMTJjLTAuMjc2IDAtMC41LTAuMjI0LTAuNS0wLjVzMC4yMjQtMC41IDAuNS0wLjVoMTJjMC4yNzYgMCAwLjUgMC4yMjQgMC41IDAuNXMtMC4yMjQgMC41LTAuNSAwLjV6JywgZmlsbDogJyMwMDAwMDAnIH0pLFxuICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNMTEuNSAxM2MtMC44MjcgMC0xLjUtMC42NzMtMS41LTEuNXMwLjY3My0xLjUgMS41LTEuNSAxLjUgMC42NzMgMS41IDEuNS0wLjY3MyAxLjUtMS41IDEuNXpNMTEuNSAxMWMtMC4yNzYgMC0wLjUgMC4yMjQtMC41IDAuNXMwLjIyNCAwLjUgMC41IDAuNSAwLjUtMC4yMjQgMC41LTAuNS0wLjIyNC0wLjUtMC41LTAuNXonLCBmaWxsOiAnIzAwMDAwMCcgfSksXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00xNC41IDhoLTEwYy0wLjI3NiAwLTAuNSAwLjIyNC0wLjUgMC41djdjMCAwLjI3NiAwLjIyNCAwLjUgMC41IDAuNWgxMGMwLjI3NiAwIDAuNS0wLjIyNCAwLjUtMC41di03YzAtMC4yNzYtMC4yMjQtMC41LTAuNS0wLjV6TTUgMTMuNjc1bDEuMjY2LTEuNTgyYzAuMDczLTAuMDkxIDAuMTY0LTAuMTQyIDAuMjU5LTAuMTQ0czAuMTg5IDAuMDQ0IDAuMjY2IDAuMTMxbDIuNTk2IDIuOTJoLTQuMzg3di0xLjMyNXpNMTQgMTVoLTMuMjc1bC0zLjE4Ny0zLjU4NWMtMC4yNzItMC4zMDYtMC42NTEtMC40NzYtMS4wMzktMC40NjZzLTAuNzU4IDAuMTk5LTEuMDE0IDAuNTE5bC0wLjQ4NSAwLjYwNnYtMy4wNzVoOXY2eicsIGZpbGw6ICcjMDAwMDAwJyB9KVxuICAgICksXG4gICAgY2F0ZWdvcnk6ICdjb21tb24nLFxuICAgIGtleXdvcmRzOiBbX18oJ2ltYWdlcycpLCBfXygncGhvdG9zJyksIF9fKCdzbGlkZXInKV0sXG4gICAgYXR0cmlidXRlczogYmxvY2tBdHRyaWJ1dGVzLFxuXG4gICAgdHJhbnNmb3Jtczoge1xuICAgICAgICBmcm9tOiBbe1xuICAgICAgICAgICAgdHlwZTogJ2Jsb2NrJyxcbiAgICAgICAgICAgIGlzTXVsdGlCbG9jazogdHJ1ZSxcbiAgICAgICAgICAgIGJsb2NrczogWydjb3JlL2ltYWdlJ10sXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIHRyYW5zZm9ybShhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkSW1hZ2VzID0gZmlsdGVyKGF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBfcmVmLnVybDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkICYmIHVybDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQmxvY2soJ29hY3Mvc2xpZGVyJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiB2YWxpZEltYWdlcy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gX3JlZjIuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IF9yZWYyLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0ID0gX3JlZjIuYWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uID0gX3JlZjIuY2FwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpZDogaWQsIHVybDogdXJsLCBhbHQ6IGFsdCwgY2FwdGlvbjogY2FwdGlvbiB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHM6IHZhbGlkSW1hZ2VzLm1hcChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfcmVmMy5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJsb2NrKCdvYWNzL3NsaWRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnc2hvcnRjb2RlJyxcbiAgICAgICAgICAgIHRhZzogJ2dhbGxlcnknLFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIGltYWdlczoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGNvZGU6IGZ1bmN0aW9uIHNob3J0Y29kZShfcmVmNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkcyA9IF9yZWY0Lm5hbWVkLmlkcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2hvcnRjb2RlSWRzKGlkcykubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaWRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y29kZTogZnVuY3Rpb24gc2hvcnRjb2RlKF9yZWY1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRzID0gX3JlZjUubmFtZWQuaWRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VTaG9ydGNvZGVJZHMoaWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGlua1RvOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGNvZGU6IGZ1bmN0aW9uIHNob3J0Y29kZShfcmVmNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWY2JG5hbWVkJGxpbmsgPSBfcmVmNi5uYW1lZC5saW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBfcmVmNiRuYW1lZCRsaW5rID09PSB1bmRlZmluZWQgPyAnYXR0YWNobWVudCcgOiBfcmVmNiRuYW1lZCRsaW5rO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluayA9PT0gJ2ZpbGUnID8gJ21lZGlhJyA6IGxpbms7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIC8vIFdoZW4gY3JlYXRlZCBieSBkcmFnIGFuZCBkcm9wcGluZyBtdWx0aXBsZSBmaWxlcyBvbiBhbiBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlcycsXG4gICAgICAgICAgICBpc01hdGNoOiBmdW5jdGlvbiBpc01hdGNoKGZpbGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVzLmxlbmd0aCAhPT0gMSAmJiBldmVyeShmaWxlcywgZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZS8nKSA9PT0gMDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIHRyYW5zZm9ybShmaWxlcywgb25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSBjcmVhdGVCbG9jaygnb2Fjcy9zbGlkZXInLCB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlczogZmlsZXMubWFwKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja1JlbGV2YW50TWVkaWFGaWxlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBjcmVhdGVCbG9iVVJMKGZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZWRpYVVwbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVzTGlzdDogZmlsZXMsXG4gICAgICAgICAgICAgICAgICAgIG9uRmlsZUNoYW5nZTogZnVuY3Rpb24gb25GaWxlQ2hhbmdlKGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlc0F0dHIgPSBpbWFnZXMubWFwKHBpY2tSZWxldmFudE1lZGlhRmlsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoYmxvY2suY2xpZW50SWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHM6IG1hcChpbWFnZXNBdHRyLCAnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IGltYWdlc0F0dHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhbGxvd2VkVHlwZXM6IFsnaW1hZ2UnXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9jaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgICAgIHRvOiBbe1xuICAgICAgICAgICAgdHlwZTogJ2Jsb2NrJyxcbiAgICAgICAgICAgIGJsb2NrczogWydjb3JlL2ltYWdlJ10sXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIHRyYW5zZm9ybShfcmVmNykge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZXMgPSBfcmVmNy5pbWFnZXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlcy5tYXAoZnVuY3Rpb24gKF9yZWY4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfcmVmOC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBfcmVmOC51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0ID0gX3JlZjguYWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb24gPSBfcmVmOC5jYXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJsb2NrKCdjb3JlL2ltYWdlJywgeyBpZDogaWQsIHVybDogdXJsLCBhbHQ6IGFsdCwgY2FwdGlvbjogY2FwdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVCbG9jaygnY29yZS9pbWFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XVxuICAgIH0sXG5cbiAgICBlZGl0OiBlZGl0LFxuXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShfcmVmOSkge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IF9yZWY5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciBpbWFnZXMgPSBhdHRyaWJ1dGVzLmltYWdlcyxcbiAgICAgICAgICAgIGltYWdlQ3JvcCA9IGF0dHJpYnV0ZXMuaW1hZ2VDcm9wLFxuICAgICAgICAgICAgYXV0b3BsYXkgPSBhdHRyaWJ1dGVzLmF1dG9wbGF5LFxuICAgICAgICAgICAgYXJyb3dzID0gYXR0cmlidXRlcy5hcnJvd3MsXG4gICAgICAgICAgICBkb3RzID0gYXR0cmlidXRlcy5kb3RzLFxuICAgICAgICAgICAgc3BlZWQgPSBhdHRyaWJ1dGVzLnNwZWVkLFxuICAgICAgICAgICAgZWZmZWN0ID0gYXR0cmlidXRlcy5lZmZlY3QsXG4gICAgICAgICAgICBsaW5rVG8gPSBhdHRyaWJ1dGVzLmxpbmtUbztcblxuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnJyArIChpbWFnZUNyb3AgPyAnaXMtY3JvcHBlZCcgOiAnJyksICdkYXRhLWF1dG9wbGF5JzogYXV0b3BsYXksICdkYXRhLXNwZWVkJzogc3BlZWQsICdkYXRhLWVmZmVjdCc6IGVmZmVjdCwgJ2RhdGEtYXJyb3dzJzogYXJyb3dzLCAnZGF0YS1kb3RzJzogZG90cyB9LFxuICAgICAgICAgICAgaW1hZ2VzLm1hcChmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHJlZiA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAobGlua1RvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21lZGlhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYgPSBpbWFnZS51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXR0YWNobWVudCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gaW1hZ2UubGluaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiBpbWFnZS51cmwsIGFsdDogaW1hZ2UuYWx0LCAnZGF0YS1pZCc6IGltYWdlLmlkLCAnZGF0YS1saW5rJzogaW1hZ2UubGluaywgY2xhc3NOYW1lOiBpbWFnZS5pZCA/ICd3cC1pbWFnZS0nICsgaW1hZ2UuaWQgOiBudWxsIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGltYWdlLmlkIHx8IGltYWdlLnVybCwgY2xhc3NOYW1lOiAnYmxvY2tzLWdhbGxlcnktaXRlbScgfSxcbiAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpZ3VyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZiA/IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBocmVmOiBocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nXG4gICAgICAgICAgICAgICAgICAgICAgICApIDogaW1nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY2FwdGlvbiAmJiBpbWFnZS5jYXB0aW9uLmxlbmd0aCA+IDAgJiYgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFJpY2hUZXh0LkNvbnRlbnQsIHsgdGFnTmFtZTogJ2ZpZ2NhcHRpb24nLCB2YWx1ZTogaW1hZ2UuY2FwdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxufTtcblxucmVnaXN0ZXJCbG9ja1R5cGUobmFtZSwgc2V0dGluZ3MpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Jsb2NrL2ltYWdlLXNsaWRlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!****************************************!*\
  !*** ./src/block/image-slider/edit.js ***!
  \****************************************/
/*! exports provided: pickRelevantMediaFiles, default */
/*! exports used: default, pickRelevantMediaFiles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return pickRelevantMediaFiles; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slider_image__ = __webpack_require__(/*! ./slider-image */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__editor_scss__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * External Dependencies\n */\nvar _lodash = lodash,\n    filter = _lodash.filter,\n    pick = _lodash.pick,\n    get = _lodash.get;\n\n/**\n * WordPress dependencies\n */\n\nvar _wp$element = wp.element,\n    Component = _wp$element.Component,\n    Fragment = _wp$element.Fragment;\nvar _wp$i18n = wp.i18n,\n    __ = _wp$i18n.__,\n    sprintf = _wp$i18n.sprintf,\n    setLocaleData = _wp$i18n.setLocaleData;\nvar _wp$components = wp.components,\n    IconButton = _wp$components.IconButton,\n    DropZone = _wp$components.DropZone,\n    FormFileUpload = _wp$components.FormFileUpload,\n    PanelBody = _wp$components.PanelBody,\n    RangeControl = _wp$components.RangeControl,\n    TextControl = _wp$components.TextControl,\n    SelectControl = _wp$components.SelectControl,\n    ToggleControl = _wp$components.ToggleControl,\n    Toolbar = _wp$components.Toolbar,\n    withNotices = _wp$components.withNotices;\nvar _wp$editor = wp.editor,\n    BlockControls = _wp$editor.BlockControls,\n    MediaUpload = _wp$editor.MediaUpload,\n    MediaPlaceholder = _wp$editor.MediaPlaceholder,\n    InspectorControls = _wp$editor.InspectorControls,\n    mediaUpload = _wp$editor.mediaUpload;\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n//setLocaleData( window.gutenberg_slider.localeData, 'oacs-image-slider-blocks' );\n\nvar effectOptions = [{ value: 'fade', label: __('Fade', 'oacs-image-slider-blocks') }, { value: 'scroll', label: __('Scroll', 'oacs-image-slider-blocks') }];\n\nvar linkOptions = [{ value: 'attachment', label: __('Attachment Page') }, { value: 'media', label: __('Media File') }, { value: 'none', label: __('None') }];\nvar ALLOWED_MEDIA_TYPES = ['image'];\n\nvar pickRelevantMediaFiles = function pickRelevantMediaFiles(image) {\n    var imageProps = pick(image, ['alt', 'id', 'link', 'caption']);\n    imageProps.url = get(image, ['sizes', 'large', 'url']) || get(image, ['media_details', 'sizes', 'large', 'source_url']) || image.url;\n    return imageProps;\n};\n\nvar SliderEdit = function (_Component) {\n    _inherits(SliderEdit, _Component);\n\n    function SliderEdit() {\n        _classCallCheck(this, SliderEdit);\n\n        var _this = _possibleConstructorReturn(this, (SliderEdit.__proto__ || Object.getPrototypeOf(SliderEdit)).apply(this, arguments));\n\n        _this.getAvailableSizes = _this.getAvailableSizes.bind(_this);\n\n        _this.onSelectImage = _this.onSelectImage.bind(_this);\n        _this.onSelectImages = _this.onSelectImages.bind(_this);\n        _this.setLinkTo = _this.setLinkTo.bind(_this);\n        _this.setSpeed = _this.setSpeed.bind(_this);\n        _this.setEffect = _this.setEffect.bind(_this);\n        _this.toggleAutoplay = _this.toggleAutoplay.bind(_this);\n        _this.toggleArrows = _this.toggleArrows.bind(_this);\n        _this.toggleDots = _this.toggleDots.bind(_this);\n        _this.toggleImageCrop = _this.toggleImageCrop.bind(_this);\n        _this.onRemoveImage = _this.onRemoveImage.bind(_this);\n        _this.setImageAttributes = _this.setImageAttributes.bind(_this);\n        _this.addFiles = _this.addFiles.bind(_this);\n        _this.uploadFromFiles = _this.uploadFromFiles.bind(_this);\n        _this.setAttributes = _this.setAttributes.bind(_this);\n\n        _this.state = {\n            selectedImage: null\n        };\n        return _this;\n    }\n\n    _createClass(SliderEdit, [{\n        key: 'getAvailableSizes',\n        value: function getAvailableSizes() {\n            return get(this.props.image, ['media_details', 'sizes'], {});\n        }\n    }, {\n        key: 'setAttributes',\n        value: function setAttributes(attributes) {\n            if (attributes.ids) {\n                throw new Error('The \"ids\" attribute should not be changed directly. It is managed automatically when \"images\" attribute changes');\n            }\n\n            if (attributes.images) {\n                attributes = Object.assign({}, attributes, {\n                    ids: map(attributes.images, 'id')\n                });\n            }\n\n            this.props.setAttributes(attributes);\n        }\n    }, {\n        key: 'onSelectImage',\n        value: function onSelectImage(index) {\n            var _this2 = this;\n\n            return function () {\n                if (_this2.state.selectedImage !== index) {\n                    _this2.setState({\n                        selectedImage: index\n                    });\n                }\n            };\n        }\n    }, {\n        key: 'onRemoveImage',\n        value: function onRemoveImage(index) {\n            var _this3 = this;\n\n            return function () {\n                var images = filter(_this3.props.attributes.images, function (img, i) {\n                    return index !== i;\n                });\n                _this3.setState({ selectedImage: null });\n                _this3.setAttributes({\n                    images: images\n                });\n            };\n        }\n    }, {\n        key: 'onSelectImages',\n        value: function onSelectImages(images) {\n            //.log(JSON.stringify(images));\n            this.props.setAttributes({\n                images: images.map(function (image) {\n                    return pickRelevantMediaFiles(image);\n                })\n            });\n        }\n    }, {\n        key: 'setLinkTo',\n        value: function setLinkTo(value) {\n            this.setAttributes({ linkTo: value });\n        }\n    }, {\n        key: 'setSpeed',\n        value: function setSpeed(value) {\n            this.setAttributes({ speed: value });\n        }\n    }, {\n        key: 'setEffect',\n        value: function setEffect(value) {\n            this.setAttributes({ effect: value });\n        }\n    }, {\n        key: 'toggleAutoplay',\n        value: function toggleAutoplay() {\n            this.setAttributes({ autoplay: !this.props.attributes.autoplay });\n        }\n    }, {\n        key: 'toggleArrows',\n        value: function toggleArrows() {\n            this.setAttributes({ arrows: !this.props.attributes.arrows });\n        }\n    }, {\n        key: 'toggleDots',\n        value: function toggleDots() {\n            this.setAttributes({ dots: !this.props.attributes.dots });\n        }\n    }, {\n        key: 'toggleImageCrop',\n        value: function toggleImageCrop() {\n            this.setAttributes({ imageCrop: !this.props.attributes.imageCrop });\n        }\n    }, {\n        key: 'getImageCropHelp',\n        value: function getImageCropHelp(checked) {\n            return checked ? __('Thumbnails are cropped to align.') : __('Thumbnails are not cropped.');\n        }\n    }, {\n        key: 'setImageAttributes',\n        value: function setImageAttributes(index, attributes) {\n            var images = this.props.attributes.images;\n            var setAttributes = this.setAttributes;\n\n            if (!images[index]) {\n                return;\n            }\n            setAttributes({\n                images: [].concat(_toConsumableArray(images.slice(0, index)), [Object.assign({}, images[index], attributes)], _toConsumableArray(images.slice(index + 1)))\n            });\n        }\n    }, {\n        key: 'uploadFromFiles',\n        value: function uploadFromFiles(event) {\n            this.addFiles(event.target.files);\n        }\n    }, {\n        key: 'addFiles',\n        value: function addFiles(files) {\n            var currentImages = this.props.attributes.images || [];\n            var noticeOperations = this.props.noticeOperations;\n            var setAttributes = this.setAttributes;\n\n            mediaUpload({\n                allowedTypes: ALLOWED_MEDIA_TYPES,\n                filesList: files,\n                onFileChange: function onFileChange(images) {\n                    var imagesNormalized = images.map(function (image) {\n                        return pickRelevantMediaFiles(image);\n                    });\n                    setAttributes({\n                        images: currentImages.concat(imagesNormalized)\n                    });\n                },\n                onError: noticeOperations.createErrorNotice\n            });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            // Deselect images when deselecting the block\n            if (!this.props.isSelected && prevProps.isSelected) {\n                this.setState({\n                    selectedImage: null,\n                    captionSelected: false\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var _props = this.props,\n                attributes = _props.attributes,\n                isSelected = _props.isSelected,\n                className = _props.className,\n                noticeOperations = _props.noticeOperations,\n                noticeUI = _props.noticeUI;\n            var images = attributes.images,\n                imageCrop = attributes.imageCrop,\n                autoplay = attributes.autoplay,\n                arrows = attributes.arrows,\n                dots = attributes.dots,\n                speed = attributes.speed,\n                effect = attributes.effect,\n                linkTo = attributes.linkTo;\n\n\n            var dropZone = wp.element.createElement(DropZone, {\n                onFilesDrop: this.addFiles\n            });\n\n            var controls = wp.element.createElement(\n                BlockControls,\n                null,\n                !!images.length && wp.element.createElement(\n                    Toolbar,\n                    null,\n                    wp.element.createElement(MediaUpload, {\n                        onSelect: this.onSelectImages,\n                        allowedTypes: ALLOWED_MEDIA_TYPES,\n                        multiple: true,\n                        gallery: true,\n                        value: images.map(function (img) {\n                            return img.id;\n                        }),\n                        render: function render(_ref) {\n                            var open = _ref.open;\n                            return wp.element.createElement(IconButton, {\n                                className: 'components-toolbar__control',\n                                label: __('Edit Slider', 'oacs-image-slider-blocks'),\n                                icon: 'edit',\n                                onClick: open\n                            });\n                        }\n                    })\n                )\n            );\n\n            if (images.length === 0) {\n                return wp.element.createElement(\n                    Fragment,\n                    null,\n                    controls,\n                    wp.element.createElement(MediaPlaceholder, {\n                        icon: 'format-gallery',\n                        className: className,\n                        labels: {\n                            title: __('Slider', 'oacs-image-slider-blocks'),\n                            instructions: __('Drag images, upload new ones or select files from your library.', 'oacs-image-slider-blocks')\n                        },\n                        onSelect: this.onSelectImages,\n                        accept: 'image/*',\n                        allowedTypes: ALLOWED_MEDIA_TYPES,\n                        multiple: true,\n                        notices: noticeUI,\n                        onError: noticeOperations.createErrorNotice\n                    })\n                );\n            }\n\n            //console.log(JSON.stringify(images));\n\n            return wp.element.createElement(\n                Fragment,\n                null,\n                controls,\n                wp.element.createElement(\n                    InspectorControls,\n                    null,\n                    wp.element.createElement(\n                        PanelBody,\n                        { title: __('Slider Settings', 'oacs-image-slider-blocks') },\n                        wp.element.createElement(ToggleControl, {\n                            label: __('Crop Images'),\n                            checked: !!imageCrop,\n                            onChange: this.toggleImageCrop,\n                            help: this.getImageCropHelp\n                        }),\n                        wp.element.createElement(ToggleControl, {\n                            label: __('Autoplay', 'oacs-image-slider-blocks'),\n                            checked: !!autoplay,\n                            onChange: this.toggleAutoplay\n                        }),\n                        wp.element.createElement(ToggleControl, {\n                            label: __('Show Arrows', 'oacs-image-slider-blocks'),\n                            checked: !!arrows,\n                            onChange: this.toggleArrows\n                        }),\n                        wp.element.createElement(ToggleControl, {\n                            label: __('Show Dots', 'oacs-image-slider-blocks'),\n                            checked: !!dots,\n                            onChange: this.toggleDots\n                        }),\n                        wp.element.createElement(TextControl, {\n                            label: __('Speed', 'oacs-image-slider-blocks'),\n                            type: 'number',\n                            min: '100',\n                            max: '500',\n                            value: speed,\n                            onChange: this.setSpeed\n                        }),\n                        wp.element.createElement(SelectControl, {\n                            label: __('Effect', 'oacs-image-slider-blocks'),\n                            value: effect,\n                            onChange: this.setEffect,\n                            options: effectOptions\n                        }),\n                        wp.element.createElement(SelectControl, {\n                            label: __('Link To'),\n                            value: linkTo,\n                            onChange: this.setLinkTo,\n                            options: linkOptions\n                        })\n                    )\n                ),\n                noticeUI,\n                wp.element.createElement(\n                    'ul',\n                    { className: className + ' ' + (imageCrop ? 'is-cropped' : '') },\n                    dropZone,\n                    images.map(function (img, index) {\n                        /* translators: %1$d is the order number of the image, %2$d is the total number of images. */\n                        var ariaLabel = __(sprintf('image %1$d of %2$d in slider', index + 1, images.length));\n\n                        return wp.element.createElement(\n                            'li',\n                            { className: 'blocks-gallery-item', key: img.id || img.url },\n                            wp.element.createElement(__WEBPACK_IMPORTED_MODULE_0__slider_image__[\"a\" /* default */], {\n                                url: img.url,\n                                alt: img.alt,\n                                id: img.id,\n                                isSelected: isSelected && _this4.state.selectedImage === index,\n                                onRemove: _this4.onRemoveImage(index),\n                                onSelect: _this4.onSelectImage(index),\n                                setAttributes: function setAttributes(attrs) {\n                                    return _this4.setImageAttributes(index, attrs);\n                                },\n                                caption: img.caption,\n                                'aria-label': ariaLabel\n                            })\n                        );\n                    }),\n                    isSelected && wp.element.createElement(\n                        'li',\n                        { className: 'blocks-gallery-item has-add-item-button' },\n                        wp.element.createElement(\n                            FormFileUpload,\n                            {\n                                multiple: true,\n                                isLarge: true,\n                                className: 'block-library-gallery-add-item-button',\n                                onChange: this.uploadFromFiles,\n                                accept: 'image/*',\n                                icon: 'insert'\n                            },\n                            __('Upload an image')\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return SliderEdit;\n}(Component);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (withNotices(SliderEdit));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9pbWFnZS1zbGlkZXIvZWRpdC5qcz9kZmY5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogRXh0ZXJuYWwgRGVwZW5kZW5jaWVzXG4gKi9cbnZhciBfbG9kYXNoID0gbG9kYXNoLFxuICAgIGZpbHRlciA9IF9sb2Rhc2guZmlsdGVyLFxuICAgIHBpY2sgPSBfbG9kYXNoLnBpY2ssXG4gICAgZ2V0ID0gX2xvZGFzaC5nZXQ7XG5cbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5cbnZhciBfd3AkZWxlbWVudCA9IHdwLmVsZW1lbnQsXG4gICAgQ29tcG9uZW50ID0gX3dwJGVsZW1lbnQuQ29tcG9uZW50LFxuICAgIEZyYWdtZW50ID0gX3dwJGVsZW1lbnQuRnJhZ21lbnQ7XG52YXIgX3dwJGkxOG4gPSB3cC5pMThuLFxuICAgIF9fID0gX3dwJGkxOG4uX18sXG4gICAgc3ByaW50ZiA9IF93cCRpMThuLnNwcmludGYsXG4gICAgc2V0TG9jYWxlRGF0YSA9IF93cCRpMThuLnNldExvY2FsZURhdGE7XG52YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIEljb25CdXR0b24gPSBfd3AkY29tcG9uZW50cy5JY29uQnV0dG9uLFxuICAgIERyb3Bab25lID0gX3dwJGNvbXBvbmVudHMuRHJvcFpvbmUsXG4gICAgRm9ybUZpbGVVcGxvYWQgPSBfd3AkY29tcG9uZW50cy5Gb3JtRmlsZVVwbG9hZCxcbiAgICBQYW5lbEJvZHkgPSBfd3AkY29tcG9uZW50cy5QYW5lbEJvZHksXG4gICAgUmFuZ2VDb250cm9sID0gX3dwJGNvbXBvbmVudHMuUmFuZ2VDb250cm9sLFxuICAgIFRleHRDb250cm9sID0gX3dwJGNvbXBvbmVudHMuVGV4dENvbnRyb2wsXG4gICAgU2VsZWN0Q29udHJvbCA9IF93cCRjb21wb25lbnRzLlNlbGVjdENvbnRyb2wsXG4gICAgVG9nZ2xlQ29udHJvbCA9IF93cCRjb21wb25lbnRzLlRvZ2dsZUNvbnRyb2wsXG4gICAgVG9vbGJhciA9IF93cCRjb21wb25lbnRzLlRvb2xiYXIsXG4gICAgd2l0aE5vdGljZXMgPSBfd3AkY29tcG9uZW50cy53aXRoTm90aWNlcztcbnZhciBfd3AkZWRpdG9yID0gd3AuZWRpdG9yLFxuICAgIEJsb2NrQ29udHJvbHMgPSBfd3AkZWRpdG9yLkJsb2NrQ29udHJvbHMsXG4gICAgTWVkaWFVcGxvYWQgPSBfd3AkZWRpdG9yLk1lZGlhVXBsb2FkLFxuICAgIE1lZGlhUGxhY2Vob2xkZXIgPSBfd3AkZWRpdG9yLk1lZGlhUGxhY2Vob2xkZXIsXG4gICAgSW5zcGVjdG9yQ29udHJvbHMgPSBfd3AkZWRpdG9yLkluc3BlY3RvckNvbnRyb2xzLFxuICAgIG1lZGlhVXBsb2FkID0gX3dwJGVkaXRvci5tZWRpYVVwbG9hZDtcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuXG5pbXBvcnQgU2xpZGVySW1hZ2UgZnJvbSAnLi9zbGlkZXItaW1hZ2UnO1xuXG5pbXBvcnQgJy4vZWRpdG9yLnNjc3MnO1xuXG4vL3NldExvY2FsZURhdGEoIHdpbmRvdy5ndXRlbmJlcmdfc2xpZGVyLmxvY2FsZURhdGEsICdvYWNzLWltYWdlLXNsaWRlci1ibG9ja3MnICk7XG5cbnZhciBlZmZlY3RPcHRpb25zID0gW3sgdmFsdWU6ICdmYWRlJywgbGFiZWw6IF9fKCdGYWRlJywgJ29hY3MtaW1hZ2Utc2xpZGVyLWJsb2NrcycpIH0sIHsgdmFsdWU6ICdzY3JvbGwnLCBsYWJlbDogX18oJ1Njcm9sbCcsICdvYWNzLWltYWdlLXNsaWRlci1ibG9ja3MnKSB9XTtcblxudmFyIGxpbmtPcHRpb25zID0gW3sgdmFsdWU6ICdhdHRhY2htZW50JywgbGFiZWw6IF9fKCdBdHRhY2htZW50IFBhZ2UnKSB9LCB7IHZhbHVlOiAnbWVkaWEnLCBsYWJlbDogX18oJ01lZGlhIEZpbGUnKSB9LCB7IHZhbHVlOiAnbm9uZScsIGxhYmVsOiBfXygnTm9uZScpIH1dO1xudmFyIEFMTE9XRURfTUVESUFfVFlQRVMgPSBbJ2ltYWdlJ107XG5cbmV4cG9ydCB2YXIgcGlja1JlbGV2YW50TWVkaWFGaWxlcyA9IGZ1bmN0aW9uIHBpY2tSZWxldmFudE1lZGlhRmlsZXMoaW1hZ2UpIHtcbiAgICB2YXIgaW1hZ2VQcm9wcyA9IHBpY2soaW1hZ2UsIFsnYWx0JywgJ2lkJywgJ2xpbmsnLCAnY2FwdGlvbiddKTtcbiAgICBpbWFnZVByb3BzLnVybCA9IGdldChpbWFnZSwgWydzaXplcycsICdsYXJnZScsICd1cmwnXSkgfHwgZ2V0KGltYWdlLCBbJ21lZGlhX2RldGFpbHMnLCAnc2l6ZXMnLCAnbGFyZ2UnLCAnc291cmNlX3VybCddKSB8fCBpbWFnZS51cmw7XG4gICAgcmV0dXJuIGltYWdlUHJvcHM7XG59O1xuXG52YXIgU2xpZGVyRWRpdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNsaWRlckVkaXQsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2xpZGVyRWRpdCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaWRlckVkaXQpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTbGlkZXJFZGl0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpZGVyRWRpdCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmdldEF2YWlsYWJsZVNpemVzID0gX3RoaXMuZ2V0QXZhaWxhYmxlU2l6ZXMuYmluZChfdGhpcyk7XG5cbiAgICAgICAgX3RoaXMub25TZWxlY3RJbWFnZSA9IF90aGlzLm9uU2VsZWN0SW1hZ2UuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uU2VsZWN0SW1hZ2VzID0gX3RoaXMub25TZWxlY3RJbWFnZXMuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnNldExpbmtUbyA9IF90aGlzLnNldExpbmtUby5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuc2V0U3BlZWQgPSBfdGhpcy5zZXRTcGVlZC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuc2V0RWZmZWN0ID0gX3RoaXMuc2V0RWZmZWN0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy50b2dnbGVBdXRvcGxheSA9IF90aGlzLnRvZ2dsZUF1dG9wbGF5LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy50b2dnbGVBcnJvd3MgPSBfdGhpcy50b2dnbGVBcnJvd3MuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnRvZ2dsZURvdHMgPSBfdGhpcy50b2dnbGVEb3RzLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy50b2dnbGVJbWFnZUNyb3AgPSBfdGhpcy50b2dnbGVJbWFnZUNyb3AuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uUmVtb3ZlSW1hZ2UgPSBfdGhpcy5vblJlbW92ZUltYWdlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5zZXRJbWFnZUF0dHJpYnV0ZXMgPSBfdGhpcy5zZXRJbWFnZUF0dHJpYnV0ZXMuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmFkZEZpbGVzID0gX3RoaXMuYWRkRmlsZXMuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnVwbG9hZEZyb21GaWxlcyA9IF90aGlzLnVwbG9hZEZyb21GaWxlcy5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuc2V0QXR0cmlidXRlcyA9IF90aGlzLnNldEF0dHJpYnV0ZXMuYmluZChfdGhpcyk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RlZEltYWdlOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2xpZGVyRWRpdCwgW3tcbiAgICAgICAga2V5OiAnZ2V0QXZhaWxhYmxlU2l6ZXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXZhaWxhYmxlU2l6ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMucHJvcHMuaW1hZ2UsIFsnbWVkaWFfZGV0YWlscycsICdzaXplcyddLCB7fSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldEF0dHJpYnV0ZXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5pZHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImlkc1wiIGF0dHJpYnV0ZSBzaG91bGQgbm90IGJlIGNoYW5nZWQgZGlyZWN0bHkuIEl0IGlzIG1hbmFnZWQgYXV0b21hdGljYWxseSB3aGVuIFwiaW1hZ2VzXCIgYXR0cmlidXRlIGNoYW5nZXMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBtYXAoYXR0cmlidXRlcy5pbWFnZXMsICdpZCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25TZWxlY3RJbWFnZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlbGVjdEltYWdlKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlLnNlbGVjdGVkSW1hZ2UgIT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEltYWdlOiBpbmRleFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdvblJlbW92ZUltYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVtb3ZlSW1hZ2UoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZXMgPSBmaWx0ZXIoX3RoaXMzLnByb3BzLmF0dHJpYnV0ZXMuaW1hZ2VzLCBmdW5jdGlvbiAoaW1nLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCAhPT0gaTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoeyBzZWxlY3RlZEltYWdlOiBudWxsIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzMy5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBpbWFnZXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uU2VsZWN0SW1hZ2VzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VsZWN0SW1hZ2VzKGltYWdlcykge1xuICAgICAgICAgICAgLy8ubG9nKEpTT04uc3RyaW5naWZ5KGltYWdlcykpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICBpbWFnZXM6IGltYWdlcy5tYXAoZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaWNrUmVsZXZhbnRNZWRpYUZpbGVzKGltYWdlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldExpbmtUbycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMaW5rVG8odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlcyh7IGxpbmtUbzogdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldFNwZWVkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNwZWVkKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoeyBzcGVlZDogdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldEVmZmVjdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRFZmZlY3QodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlcyh7IGVmZmVjdDogdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvZ2dsZUF1dG9wbGF5JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZUF1dG9wbGF5KCkge1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKHsgYXV0b3BsYXk6ICF0aGlzLnByb3BzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvZ2dsZUFycm93cycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVBcnJvd3MoKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoeyBhcnJvd3M6ICF0aGlzLnByb3BzLmF0dHJpYnV0ZXMuYXJyb3dzIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0b2dnbGVEb3RzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZURvdHMoKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoeyBkb3RzOiAhdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLmRvdHMgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvZ2dsZUltYWdlQ3JvcCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVJbWFnZUNyb3AoKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoeyBpbWFnZUNyb3A6ICF0aGlzLnByb3BzLmF0dHJpYnV0ZXMuaW1hZ2VDcm9wIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRJbWFnZUNyb3BIZWxwJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEltYWdlQ3JvcEhlbHAoY2hlY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrZWQgPyBfXygnVGh1bWJuYWlscyBhcmUgY3JvcHBlZCB0byBhbGlnbi4nKSA6IF9fKCdUaHVtYm5haWxzIGFyZSBub3QgY3JvcHBlZC4nKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0SW1hZ2VBdHRyaWJ1dGVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEltYWdlQXR0cmlidXRlcyhpbmRleCwgYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGltYWdlcyA9IHRoaXMucHJvcHMuYXR0cmlidXRlcy5pbWFnZXM7XG4gICAgICAgICAgICB2YXIgc2V0QXR0cmlidXRlcyA9IHRoaXMuc2V0QXR0cmlidXRlcztcblxuICAgICAgICAgICAgaWYgKCFpbWFnZXNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgaW1hZ2VzOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGltYWdlcy5zbGljZSgwLCBpbmRleCkpLCBbT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzW2luZGV4XSwgYXR0cmlidXRlcyldLCBfdG9Db25zdW1hYmxlQXJyYXkoaW1hZ2VzLnNsaWNlKGluZGV4ICsgMSkpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3VwbG9hZEZyb21GaWxlcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGxvYWRGcm9tRmlsZXMoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRmlsZXMoZXZlbnQudGFyZ2V0LmZpbGVzKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWRkRmlsZXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRmlsZXMoZmlsZXMpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW1hZ2VzID0gdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLmltYWdlcyB8fCBbXTtcbiAgICAgICAgICAgIHZhciBub3RpY2VPcGVyYXRpb25zID0gdGhpcy5wcm9wcy5ub3RpY2VPcGVyYXRpb25zO1xuICAgICAgICAgICAgdmFyIHNldEF0dHJpYnV0ZXMgPSB0aGlzLnNldEF0dHJpYnV0ZXM7XG5cbiAgICAgICAgICAgIG1lZGlhVXBsb2FkKHtcbiAgICAgICAgICAgICAgICBhbGxvd2VkVHlwZXM6IEFMTE9XRURfTUVESUFfVFlQRVMsXG4gICAgICAgICAgICAgICAgZmlsZXNMaXN0OiBmaWxlcyxcbiAgICAgICAgICAgICAgICBvbkZpbGVDaGFuZ2U6IGZ1bmN0aW9uIG9uRmlsZUNoYW5nZShpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlc05vcm1hbGl6ZWQgPSBpbWFnZXMubWFwKGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tSZWxldmFudE1lZGlhRmlsZXMoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IGN1cnJlbnRJbWFnZXMuY29uY2F0KGltYWdlc05vcm1hbGl6ZWQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogbm90aWNlT3BlcmF0aW9ucy5jcmVhdGVFcnJvck5vdGljZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgICAgICAvLyBEZXNlbGVjdCBpbWFnZXMgd2hlbiBkZXNlbGVjdGluZyB0aGUgYmxvY2tcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pc1NlbGVjdGVkICYmIHByZXZQcm9wcy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSW1hZ2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb25TZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gX3Byb3BzLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IF9wcm9wcy5pc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgbm90aWNlT3BlcmF0aW9ucyA9IF9wcm9wcy5ub3RpY2VPcGVyYXRpb25zLFxuICAgICAgICAgICAgICAgIG5vdGljZVVJID0gX3Byb3BzLm5vdGljZVVJO1xuICAgICAgICAgICAgdmFyIGltYWdlcyA9IGF0dHJpYnV0ZXMuaW1hZ2VzLFxuICAgICAgICAgICAgICAgIGltYWdlQ3JvcCA9IGF0dHJpYnV0ZXMuaW1hZ2VDcm9wLFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5ID0gYXR0cmlidXRlcy5hdXRvcGxheSxcbiAgICAgICAgICAgICAgICBhcnJvd3MgPSBhdHRyaWJ1dGVzLmFycm93cyxcbiAgICAgICAgICAgICAgICBkb3RzID0gYXR0cmlidXRlcy5kb3RzLFxuICAgICAgICAgICAgICAgIHNwZWVkID0gYXR0cmlidXRlcy5zcGVlZCxcbiAgICAgICAgICAgICAgICBlZmZlY3QgPSBhdHRyaWJ1dGVzLmVmZmVjdCxcbiAgICAgICAgICAgICAgICBsaW5rVG8gPSBhdHRyaWJ1dGVzLmxpbmtUbztcblxuXG4gICAgICAgICAgICB2YXIgZHJvcFpvbmUgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoRHJvcFpvbmUsIHtcbiAgICAgICAgICAgICAgICBvbkZpbGVzRHJvcDogdGhpcy5hZGRGaWxlc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBjb250cm9scyA9IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBCbG9ja0NvbnRyb2xzLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgISFpbWFnZXMubGVuZ3RoICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgVG9vbGJhcixcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KE1lZGlhVXBsb2FkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdEltYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9NRURJQV9UWVBFUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbWFnZXMubWFwKGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1nLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW4gPSBfcmVmLm9wZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2NvbXBvbmVudHMtdG9vbGJhcl9fY29udHJvbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBfXygnRWRpdCBTbGlkZXInLCAnb2Fjcy1pbWFnZS1zbGlkZXItYmxvY2tzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlZGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogb3BlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpbWFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgRnJhZ21lbnQsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoTWVkaWFQbGFjZWhvbGRlciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Zvcm1hdC1nYWxsZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF9fKCdTbGlkZXInLCAnb2Fjcy1pbWFnZS1zbGlkZXItYmxvY2tzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBfXygnRHJhZyBpbWFnZXMsIHVwbG9hZCBuZXcgb25lcyBvciBzZWxlY3QgZmlsZXMgZnJvbSB5b3VyIGxpYnJhcnkuJywgJ29hY3MtaW1hZ2Utc2xpZGVyLWJsb2NrcycpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3RJbWFnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6ICdpbWFnZS8qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9NRURJQV9UWVBFUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWNlczogbm90aWNlVUksXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBub3RpY2VPcGVyYXRpb25zLmNyZWF0ZUVycm9yTm90aWNlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShpbWFnZXMpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBGcmFnbWVudCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xzLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgSW5zcGVjdG9yQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhbmVsQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGl0bGU6IF9fKCdTbGlkZXIgU2V0dGluZ3MnLCAnb2Fjcy1pbWFnZS1zbGlkZXItYmxvY2tzJykgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUb2dnbGVDb250cm9sLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF9fKCdDcm9wIEltYWdlcycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICEhaW1hZ2VDcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLnRvZ2dsZUltYWdlQ3JvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwOiB0aGlzLmdldEltYWdlQ3JvcEhlbHBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFRvZ2dsZUNvbnRyb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogX18oJ0F1dG9wbGF5JywgJ29hY3MtaW1hZ2Utc2xpZGVyLWJsb2NrcycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICEhYXV0b3BsYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMudG9nZ2xlQXV0b3BsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFRvZ2dsZUNvbnRyb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogX18oJ1Nob3cgQXJyb3dzJywgJ29hY3MtaW1hZ2Utc2xpZGVyLWJsb2NrcycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICEhYXJyb3dzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLnRvZ2dsZUFycm93c1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQ29udHJvbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBfXygnU2hvdyBEb3RzJywgJ29hY3MtaW1hZ2Utc2xpZGVyLWJsb2NrcycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICEhZG90cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy50b2dnbGVEb3RzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBfXygnU3BlZWQnLCAnb2Fjcy1pbWFnZS1zbGlkZXItYmxvY2tzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAnMTAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6ICc1MDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzcGVlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5zZXRTcGVlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoU2VsZWN0Q29udHJvbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBfXygnRWZmZWN0JywgJ29hY3MtaW1hZ2Utc2xpZGVyLWJsb2NrcycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlZmZlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuc2V0RWZmZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGVmZmVjdE9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFNlbGVjdENvbnRyb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogX18oJ0xpbmsgVG8nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbGlua1RvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLnNldExpbmtUbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBsaW5rT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbm90aWNlVUksXG4gICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJyAnICsgKGltYWdlQ3JvcCA/ICdpcy1jcm9wcGVkJyA6ICcnKSB9LFxuICAgICAgICAgICAgICAgICAgICBkcm9wWm9uZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzLm1hcChmdW5jdGlvbiAoaW1nLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogdHJhbnNsYXRvcnM6ICUxJGQgaXMgdGhlIG9yZGVyIG51bWJlciBvZiB0aGUgaW1hZ2UsICUyJGQgaXMgdGhlIHRvdGFsIG51bWJlciBvZiBpbWFnZXMuICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJpYUxhYmVsID0gX18oc3ByaW50ZignaW1hZ2UgJTEkZCBvZiAlMiRkIGluIHNsaWRlcicsIGluZGV4ICsgMSwgaW1hZ2VzLmxlbmd0aCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdibG9ja3MtZ2FsbGVyeS1pdGVtJywga2V5OiBpbWcuaWQgfHwgaW1nLnVybCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTbGlkZXJJbWFnZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltZy51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdDogaW1nLmFsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGltZy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCAmJiBfdGhpczQuc3RhdGUuc2VsZWN0ZWRJbWFnZSA9PT0gaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVtb3ZlOiBfdGhpczQub25SZW1vdmVJbWFnZShpbmRleCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0OiBfdGhpczQub25TZWxlY3RJbWFnZShpbmRleCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuc2V0SW1hZ2VBdHRyaWJ1dGVzKGluZGV4LCBhdHRycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb246IGltZy5jYXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCAmJiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdibG9ja3MtZ2FsbGVyeS1pdGVtIGhhcy1hZGQtaXRlbS1idXR0b24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9ybUZpbGVVcGxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNMYXJnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYmxvY2stbGlicmFyeS1nYWxsZXJ5LWFkZC1pdGVtLWJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLnVwbG9hZEZyb21GaWxlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0OiAnaW1hZ2UvKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdpbnNlcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfXygnVXBsb2FkIGFuIGltYWdlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2xpZGVyRWRpdDtcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aE5vdGljZXMoU2xpZGVyRWRpdCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svaW1hZ2Utc2xpZGVyL2VkaXQuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!************************************************!*\
  !*** ./src/block/image-slider/slider-image.js ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_classnames__ = __webpack_require__(/*! classnames */ 4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * External Dependencies\n */\n\n\n/**\n * WordPress Dependencies\n */\nvar _wp$element = wp.element,\n    Component = _wp$element.Component,\n    Fragment = _wp$element.Fragment;\nvar _wp$components = wp.components,\n    IconButton = _wp$components.IconButton,\n    Spinner = _wp$components.Spinner;\nvar _wp$i18n = wp.i18n,\n    __ = _wp$i18n.__,\n    setLocaleData = _wp$i18n.setLocaleData;\nvar _wp$keycodes = wp.keycodes,\n    BACKSPACE = _wp$keycodes.BACKSPACE,\n    DELETE = _wp$keycodes.DELETE;\nvar withSelect = wp.data.withSelect;\nvar RichText = wp.editor.RichText;\nvar isBlobURL = wp.blob.isBlobURL;\n\n//setLocaleData( window.gutenberg_slider.localeData, 'oacs-image-slider-blocks' );\n\nvar SliderImage = function (_Component) {\n    _inherits(SliderImage, _Component);\n\n    function SliderImage() {\n        _classCallCheck(this, SliderImage);\n\n        var _this = _possibleConstructorReturn(this, (SliderImage.__proto__ || Object.getPrototypeOf(SliderImage)).apply(this, arguments));\n\n        _this.onImageClick = _this.onImageClick.bind(_this);\n        _this.onSelectCaption = _this.onSelectCaption.bind(_this);\n        _this.onKeyDown = _this.onKeyDown.bind(_this);\n        _this.bindContainer = _this.bindContainer.bind(_this);\n\n        _this.state = {\n            captionSelected: false\n        };\n        return _this;\n    }\n\n    _createClass(SliderImage, [{\n        key: 'bindContainer',\n        value: function bindContainer(ref) {\n            this.container = ref;\n        }\n    }, {\n        key: 'onSelectCaption',\n        value: function onSelectCaption() {\n            if (!this.state.captionSelected) {\n                this.setState({\n                    captionSelected: true\n                });\n            }\n\n            if (!this.props.isSelected) {\n                this.props.onSelect();\n            }\n        }\n    }, {\n        key: 'onImageClick',\n        value: function onImageClick() {\n            if (!this.props.isSelected) {\n                this.props.onSelect();\n            }\n\n            if (this.state.captionSelected) {\n                this.setState({\n                    captionSelected: false\n                });\n            }\n        }\n    }, {\n        key: 'onKeyDown',\n        value: function onKeyDown(event) {\n            if (this.container === document.activeElement && this.props.isSelected && [BACKSPACE, DELETE].indexOf(event.keyCode) !== -1) {\n                event.stopPropagation();\n                event.preventDefault();\n                this.props.onRemove();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var _props = this.props,\n                isSelected = _props.isSelected,\n                image = _props.image,\n                url = _props.url;\n\n            if (image && !url) {\n                this.props.setAttributes({\n                    url: image.source_url,\n                    alt: image.alt_text\n                });\n            }\n\n            // unselect the caption so when the user selects other image and comeback\n            // the caption is not immediately selected\n            if (this.state.captionSelected && !isSelected && prevProps.isSelected) {\n                this.setState({\n                    captionSelected: false\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                url = _props2.url,\n                alt = _props2.alt,\n                id = _props2.id,\n                linkTo = _props2.linkTo,\n                link = _props2.link,\n                isSelected = _props2.isSelected,\n                caption = _props2.caption,\n                onRemove = _props2.onRemove,\n                setAttributes = _props2.setAttributes,\n                ariaLabel = _props2['aria-label'];\n\n\n            var href = void 0;\n\n            switch (linkTo) {\n                case 'media':\n                    href = url;\n                    break;\n                case 'attachment':\n                    href = link;\n                    break;\n            }\n\n            var img =\n            // Disable reason: Image itself is not meant to be interactive, but should\n            // direct image selection and unfocus caption fields.\n            /* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n            wp.element.createElement(\n                Fragment,\n                null,\n                wp.element.createElement('img', {\n                    src: url,\n                    alt: alt,\n                    'data-id': id,\n                    onClick: this.onImageClick,\n                    tabIndex: '0',\n                    onKeyDown: this.onImageClick,\n                    'aria-label': ariaLabel\n                }),\n                isBlobURL(url) && wp.element.createElement(Spinner, null)\n            )\n            /* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n            ;\n\n            var className = __WEBPACK_IMPORTED_MODULE_0_classnames___default()({\n                'is-selected': isSelected,\n                'is-transient': isBlobURL(url)\n            });\n\n            // Disable reason: Each block can be selected by clicking on it and we should keep the same saved markup\n            /* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n            return wp.element.createElement(\n                'figure',\n                { className: className, tabIndex: '-1', onKeyDown: this.onKeyDown, ref: this.bindContainer },\n                isSelected && wp.element.createElement(\n                    'div',\n                    { className: 'block-library-gallery-item__inline-menu' },\n                    wp.element.createElement(IconButton, {\n                        icon: 'no-alt',\n                        onClick: onRemove,\n                        className: 'blocks-gallery-item__remove',\n                        label: __('Remove Image')\n                    })\n                ),\n                href ? wp.element.createElement(\n                    'a',\n                    { href: href },\n                    img\n                ) : img,\n                !RichText.isEmpty(caption) || isSelected ? wp.element.createElement(RichText, {\n                    tagName: 'figcaption',\n                    placeholder: __('Write caption…'),\n                    value: caption,\n                    isSelected: this.state.captionSelected,\n                    onChange: function onChange(newCaption) {\n                        return setAttributes({ caption: newCaption });\n                    },\n                    unstableOnFocus: this.onSelectCaption,\n                    inlineToolbar: true\n                }) : null\n            );\n            /* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/onclick-has-role, jsx-a11y/click-events-have-key-events */\n        }\n    }]);\n\n    return SliderImage;\n}(Component);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (withSelect(function (select, ownProps) {\n    var _select = select('core'),\n        getMedia = _select.getMedia;\n\n    var id = ownProps.id;\n\n\n    return {\n        image: id ? getMedia(id) : null\n    };\n})(SliderImage));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9pbWFnZS1zbGlkZXIvc2xpZGVyLWltYWdlLmpzPzM2NDYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEV4dGVybmFsIERlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuLyoqXG4gKiBXb3JkUHJlc3MgRGVwZW5kZW5jaWVzXG4gKi9cbnZhciBfd3AkZWxlbWVudCA9IHdwLmVsZW1lbnQsXG4gICAgQ29tcG9uZW50ID0gX3dwJGVsZW1lbnQuQ29tcG9uZW50LFxuICAgIEZyYWdtZW50ID0gX3dwJGVsZW1lbnQuRnJhZ21lbnQ7XG52YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIEljb25CdXR0b24gPSBfd3AkY29tcG9uZW50cy5JY29uQnV0dG9uLFxuICAgIFNwaW5uZXIgPSBfd3AkY29tcG9uZW50cy5TcGlubmVyO1xudmFyIF93cCRpMThuID0gd3AuaTE4bixcbiAgICBfXyA9IF93cCRpMThuLl9fLFxuICAgIHNldExvY2FsZURhdGEgPSBfd3AkaTE4bi5zZXRMb2NhbGVEYXRhO1xudmFyIF93cCRrZXljb2RlcyA9IHdwLmtleWNvZGVzLFxuICAgIEJBQ0tTUEFDRSA9IF93cCRrZXljb2Rlcy5CQUNLU1BBQ0UsXG4gICAgREVMRVRFID0gX3dwJGtleWNvZGVzLkRFTEVURTtcbnZhciB3aXRoU2VsZWN0ID0gd3AuZGF0YS53aXRoU2VsZWN0O1xudmFyIFJpY2hUZXh0ID0gd3AuZWRpdG9yLlJpY2hUZXh0O1xudmFyIGlzQmxvYlVSTCA9IHdwLmJsb2IuaXNCbG9iVVJMO1xuXG4vL3NldExvY2FsZURhdGEoIHdpbmRvdy5ndXRlbmJlcmdfc2xpZGVyLmxvY2FsZURhdGEsICdvYWNzLWltYWdlLXNsaWRlci1ibG9ja3MnICk7XG5cbnZhciBTbGlkZXJJbWFnZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNsaWRlckltYWdlLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNsaWRlckltYWdlKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xpZGVySW1hZ2UpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTbGlkZXJJbWFnZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNsaWRlckltYWdlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMub25JbWFnZUNsaWNrID0gX3RoaXMub25JbWFnZUNsaWNrLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5vblNlbGVjdENhcHRpb24gPSBfdGhpcy5vblNlbGVjdENhcHRpb24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uS2V5RG93biA9IF90aGlzLm9uS2V5RG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuYmluZENvbnRhaW5lciA9IF90aGlzLmJpbmRDb250YWluZXIuYmluZChfdGhpcyk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjYXB0aW9uU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2xpZGVySW1hZ2UsIFt7XG4gICAgICAgIGtleTogJ2JpbmRDb250YWluZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZENvbnRhaW5lcihyZWYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gcmVmO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdvblNlbGVjdENhcHRpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWxlY3RDYXB0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhcHRpb25TZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uU2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnByb3BzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ29uSW1hZ2VDbGljaycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkltYWdlQ2xpY2soKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWxlY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FwdGlvblNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb25TZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25LZXlEb3duJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIHRoaXMucHJvcHMuaXNTZWxlY3RlZCAmJiBbQkFDS1NQQUNFLCBERUxFVEVdLmluZGV4T2YoZXZlbnQua2V5Q29kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uUmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkID0gX3Byb3BzLmlzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBfcHJvcHMuaW1hZ2UsXG4gICAgICAgICAgICAgICAgdXJsID0gX3Byb3BzLnVybDtcblxuICAgICAgICAgICAgaWYgKGltYWdlICYmICF1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGltYWdlLnNvdXJjZV91cmwsXG4gICAgICAgICAgICAgICAgICAgIGFsdDogaW1hZ2UuYWx0X3RleHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdW5zZWxlY3QgdGhlIGNhcHRpb24gc28gd2hlbiB0aGUgdXNlciBzZWxlY3RzIG90aGVyIGltYWdlIGFuZCBjb21lYmFja1xuICAgICAgICAgICAgLy8gdGhlIGNhcHRpb24gaXMgbm90IGltbWVkaWF0ZWx5IHNlbGVjdGVkXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYXB0aW9uU2VsZWN0ZWQgJiYgIWlzU2VsZWN0ZWQgJiYgcHJldlByb3BzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvblNlbGVjdGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHVybCA9IF9wcm9wczIudXJsLFxuICAgICAgICAgICAgICAgIGFsdCA9IF9wcm9wczIuYWx0LFxuICAgICAgICAgICAgICAgIGlkID0gX3Byb3BzMi5pZCxcbiAgICAgICAgICAgICAgICBsaW5rVG8gPSBfcHJvcHMyLmxpbmtUbyxcbiAgICAgICAgICAgICAgICBsaW5rID0gX3Byb3BzMi5saW5rLFxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBfcHJvcHMyLmlzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgY2FwdGlvbiA9IF9wcm9wczIuY2FwdGlvbixcbiAgICAgICAgICAgICAgICBvblJlbW92ZSA9IF9wcm9wczIub25SZW1vdmUsXG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlcyA9IF9wcm9wczIuc2V0QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICBhcmlhTGFiZWwgPSBfcHJvcHMyWydhcmlhLWxhYmVsJ107XG5cblxuICAgICAgICAgICAgdmFyIGhyZWYgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIHN3aXRjaCAobGlua1RvKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWVkaWEnOlxuICAgICAgICAgICAgICAgICAgICBocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhdHRhY2htZW50JzpcbiAgICAgICAgICAgICAgICAgICAgaHJlZiA9IGxpbms7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW1nID1cbiAgICAgICAgICAgIC8vIERpc2FibGUgcmVhc29uOiBJbWFnZSBpdHNlbGYgaXMgbm90IG1lYW50IHRvIGJlIGludGVyYWN0aXZlLCBidXQgc2hvdWxkXG4gICAgICAgICAgICAvLyBkaXJlY3QgaW1hZ2Ugc2VsZWN0aW9uIGFuZCB1bmZvY3VzIGNhcHRpb24gZmllbGRzLlxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvbm8tbm9uaW50ZXJhY3RpdmUtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cbiAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBGcmFnbWVudCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgYWx0OiBhbHQsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLWlkJzogaWQsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25JbWFnZUNsaWNrLFxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogJzAnLFxuICAgICAgICAgICAgICAgICAgICBvbktleURvd246IHRoaXMub25JbWFnZUNsaWNrLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGlzQmxvYlVSTCh1cmwpICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTcGlubmVyLCBudWxsKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBqc3gtYTExeS9uby1ub25pbnRlcmFjdGl2ZS1lbGVtZW50LWludGVyYWN0aW9ucyAqL1xuICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NuYW1lcyh7XG4gICAgICAgICAgICAgICAgJ2lzLXNlbGVjdGVkJzogaXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAnaXMtdHJhbnNpZW50JzogaXNCbG9iVVJMKHVybClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIHJlYXNvbjogRWFjaCBibG9jayBjYW4gYmUgc2VsZWN0ZWQgYnkgY2xpY2tpbmcgb24gaXQgYW5kIHdlIHNob3VsZCBrZWVwIHRoZSBzYW1lIHNhdmVkIG1hcmt1cFxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvbm8tbm9uaW50ZXJhY3RpdmUtZWxlbWVudC1pbnRlcmFjdGlvbnMsIGpzeC1hMTF5L29uY2xpY2staGFzLXJvbGUsIGpzeC1hMTF5L2NsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMgKi9cbiAgICAgICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2ZpZ3VyZScsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgdGFiSW5kZXg6ICctMScsIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sIHJlZjogdGhpcy5iaW5kQ29udGFpbmVyIH0sXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZCAmJiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Jsb2NrLWxpYnJhcnktZ2FsbGVyeS1pdGVtX19pbmxpbmUtbWVudScgfSxcbiAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICduby1hbHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogb25SZW1vdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdibG9ja3MtZ2FsbGVyeS1pdGVtX19yZW1vdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF9fKCdSZW1vdmUgSW1hZ2UnKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaHJlZiA/IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICB7IGhyZWY6IGhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgaW1nXG4gICAgICAgICAgICAgICAgKSA6IGltZyxcbiAgICAgICAgICAgICAgICAhUmljaFRleHQuaXNFbXB0eShjYXB0aW9uKSB8fCBpc1NlbGVjdGVkID8gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFJpY2hUZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdmaWdjYXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IF9fKCdXcml0ZSBjYXB0aW9u4oCmJyksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkOiB0aGlzLnN0YXRlLmNhcHRpb25TZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld0NhcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgY2FwdGlvbjogbmV3Q2FwdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdW5zdGFibGVPbkZvY3VzOiB0aGlzLm9uU2VsZWN0Q2FwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lVG9vbGJhcjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pIDogbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUganN4LWExMXkvbm8tbm9uaW50ZXJhY3RpdmUtZWxlbWVudC1pbnRlcmFjdGlvbnMsIGpzeC1hMTF5L29uY2xpY2staGFzLXJvbGUsIGpzeC1hMTF5L2NsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMgKi9cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTbGlkZXJJbWFnZTtcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFNlbGVjdChmdW5jdGlvbiAoc2VsZWN0LCBvd25Qcm9wcykge1xuICAgIHZhciBfc2VsZWN0ID0gc2VsZWN0KCdjb3JlJyksXG4gICAgICAgIGdldE1lZGlhID0gX3NlbGVjdC5nZXRNZWRpYTtcblxuICAgIHZhciBpZCA9IG93blByb3BzLmlkO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbWFnZTogaWQgPyBnZXRNZWRpYShpZCkgOiBudWxsXG4gICAgfTtcbn0pKFNsaWRlckltYWdlKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9pbWFnZS1zbGlkZXIvc2xpZGVyLWltYWdlLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/*! dynamic exports provided */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzPzFkNmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNyBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0aWYgKGlubmVyKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!********************************************!*\
  !*** ./src/block/image-slider/editor.scss ***!
  \********************************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9pbWFnZS1zbGlkZXIvZWRpdG9yLnNjc3M/MGEwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Jsb2NrL2ltYWdlLXNsaWRlci9lZGl0b3Iuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!*******************************************!*\
  !*** ./src/block/image-slider/style.scss ***!
  \*******************************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9pbWFnZS1zbGlkZXIvc3R5bGUuc2Nzcz85ZDQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svaW1hZ2Utc2xpZGVyL3N0eWxlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ })
/******/ ]);